<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorate="layout">
<head>

<meta charset="utf-8">
    


<title>Cadastro de Usuário</title>

</head>
<body>
	<section layout:fragment="header">
		<h1>Cadastro de Usuário</h1>

	


	</section>

<div class="alert alert-primary" role="alert">
  A simple primary alert—check it out!
</div>

	<div layout:fragment="content">
		<div class="row">
			<div class="col-md-12">
				<!-- Horizontal Form -->
				<div class="box box-info">
					<div class="box-header with-border">
						<h3 class="box-title">Adicionar 
						Usuário</h3>
					</div>


					<!-- form start -->
					<!--                 <form th:action="@{/product/save}" th:object="${product}" method="post" class="form-horizontal"> -->

	

 			<form th:action="@{/usuario/salvar}" method="post" th:object="${usuario}">
          
   
       			  <th:block th:include="fragments/modalconfirm">  </th:block>
       			  
						<th:block th:include="fragments/Mensagens"></th:block>

					<input type="hidden" readonly id="id" name="id" th:value="${usuario?.id}"/>
					
				

						<div class="box-body">

							<div class="form-group">
								<label id="login" class=" control-label">Insira o Email:</label>
								<input type="email" name="login" class="form-control" placeholder="Login" th:value="${usuario?.login}">
							
							</div>
							
							<div class="form-group">
								<label id="nome" class=" control-label">Nome:</label>
								<input type="text" name="nome" class="form-control" placeholder="Nome"  th:value="${usuario?.nome}">
							
							</div>
							<div class="form-group">
								<label id="sobrenome" class=" control-label">Sobrenome:</label>
								<input type="text" name="sobrenome" class="form-control" placeholder="Sobrenome"  th:value="${usuario?.sobrenome}">
							
							</div>
							
								 <div class="form-group"  >
				 <label for="tipoSexo" class="active">Sexo:</label>
				 <select class="form-control" th:field="*{tipoSexo}" id="tipoSexo">
						<option th:each = "s : ${T(reserva.emeron.projetoemeron.model.TipoSexo).values()}" 
						th:value="${s}" th:text="${s?.nome}">
				 </select>
			 </div>
								<div class="form-group">
									<label id="senha" class=" control-label">Senha do Usuário:</label>
									<input autocomplete="off" type="password" id="password" name="senha" class="form-control" placeholder="Senha" >
									
									<div class="form-group">

									<label id="senha" class=" control-label">Confirmação de Senha:</label>
									 <input class="form-control" type="password" placeholder="Confirme a  Senha" id="confirm_password" required>
									</div>
									
								</div>
							
			
								
			<div class="form-group">
							<div>
							 <label>Status do Usuário:</label>
							 
							 </div>
							 <div class="checkbox-inline">
								<input type="checkbox" class="minimal" data-size="small" id="ativo"
							data-on-text="Ativo" data-off-text="Inativo" th:field="*{ativo}"/> 
							<label for="ativo" th:text=" ATIVAR"></label>
						 </div>

					
							
<!-- 								<th:block th:each="grupo : ${grupos}"> -->
<!-- 									<div class="checkbox checkbox-inline"> -->
<!-- 										<input type="checkbox" th:value="${grupo.codigo}" th:field="*{grupos}"/> -->
<!-- 										<label th:for="${#ids.prev('grupos')}" th:text=${grupo.nome}>Administrador</label> -->
<!-- 									</div> -->
<!-- 								</th:block> -->
							
				<!-- 					 <div class="form-group"  >
				 <label for="tipoStatus" class="active">Status do Usuário:</label>
				 <select class="form-control" th:field="*{tipoStatus}" id="tipoSexo">
						<option th:each = "statususer : ${T(reserva.emeron.projetoemeron.model.StatusUsuario).values()}" 
						th:value="${statususer}" th:text="${statususer?.nome}">
				 </select>
			 </div> -->
			 
			 
			 
							
							<div> <label class="control-label"> Perfil do Usuário:  </label></div>
							<th:block th:each="grupo : ${grupos}">
						
								<div class="checkbox-inline">
									<input  type="checkbox" th:value="${grupo?.id}"
										th:field="*{roles}"> <label
										th:for="${#ids.prev('roles')}" th:text=${grupo?.descricao}></label>
								</div>
								<!-- 											<label th:for="${#ids.prev('grupos')}" th:text=${grupo.nomeRole} >   </label> -->

								<th:block>
								
					
					
									<!-- 							<div class="form-group"> -->
									<!-- 								<label>Selecionar Curso</label> <select name="curso" -->
									<!-- 									class="form-control"> -->
									<!-- 									<option th:each="c: ${cursolist}" th:value="${c.id}" -->
									<!-- 										th:text="${c.nome}"> -->
									<!-- 								</select> -->
									<!-- 							</div> -->
						</div>
					
						<!--                     /.box-body -->
						<div class="box-footer center">
					
							<button type="submit" class="btn btn-info pull-right"
								th:href="@{/usuario/salvar}">
								<i class="fa fa-save"></i> Salvar Usuário
							</button>
						</div>
					
						<!-- /.box-footer -->
						</div>
					
					</form>
				<!-- 		<div class="row">
						<div class="col-sm-6 form-group bw-required" >
							<label class="control-label">Grupos</label>
							<div>
								<th:block th:each="grupo : ${grupos}">
									<div class="checkbox checkbox-inline">
										<input type="checkbox" th:value="${grupo.codigo}" th:field="*{grupos}"/>
										<label th:for="${#ids.prev('grupos')}" th:text=${grupo.nome}>Administrador</label>
									</div>
								</th:block>
							</div>
						</div>
					</div> -->
					
					<div>
					   <h2> Gereciador de Usuário: </h2>
					</div>
					<br>
					
					  <table id="example1" class="table table-bordered table-striped dataTable" role="grid"
                                       aria-describedby="example1_info">
                                    <thead class="thead">
						             <tr>
										    <th>ID</th>
										     <th>USUARIO</th>
										 	
										 <th>PERFIL</th>
										 
										 <th>NOME:</th>
										  <th>SOBRENOME:</th>
										   <th>SEXO:</th>
										    <th>STATUS:</th>
										      <th>AÇÕES:</th>
		                              </tr>
                                    </thead>
                                    <tbody>
                                   <tr th:each="c : ${userList}">
										    <td th:text="${c.id}">Alfreds Futterkiste</td>
										     <td th:text="${c.login}">Alfreds Futterkiste</td>
										     <td th:text="${c.roles}">Alfreds Futterkiste</td>
										      <td th:text="${c.nome}">Alfreds Futterkiste</td>
										        <td th:text="${c.sobrenome}">Alfreds Futterkiste</td>
										          <td th:text="${c.tipoSexo}">Alfreds Futterkiste</td>
										            <td> 
										              
										
									       	<span th:text="${c.ativo == false} ? 'Inativo' : 'Ativo'"  class="label"
									       	th:classappend="${#strings.toString(c.ativo) == 'false' ? 'label-danger' : #strings.toString(c.ativo) == 'true' ? 'label-success' : 'label-warning'}"
									       	
									       	></span>
									       
									        </td>
										         
										            
										            
										
                                        <td>
                                        <button th:id="${ 'btn_usuario/inativar/' + c.id}" type="button" class="btn btn-danger btn-xs"
		                            		data-toggle="modal" data-target="#modalInativar">
		                                <span title="Inativar Usuario"  ><i class="glyphicon glyphicon-remove"></i> Inativar</span>
		                                
		                            </button>
                                        <button th:id="${ 'btn_usuario/ativar/' + c.id}" type="button" class="btn btn-success btn-xs"
		                            		data-toggle="modal" data-target="#modalAtivar">
		                                <span title="Ativar Usuario"  ><i class="glyphicon glyphicon-check"></i> Ativar</span>
		                                
		                            </button >
		                            
                                            <a th:href="@{/usuario/{id}(id=${c.id})}" class="btn btn-primary btn-xs" title="Editar" ><i class="fa fa-edit" ></i> Editar</a>
                                            
                                             <button th:id="${ 'btn_usuario/excluir/' + c.id}" type="button" class="btn btn-danger btn-xs"
		                            		data-toggle="modal" data-target="#myModalExcluir">
		                                <span title="Exclusão desabilitada"  ><i class="fa fa-trash-o"></i> Excluir</span>
		                                
		                            </button>
                                          
										</td>
                                    </tr>
                                    </tbody>
                                </table>


					<!--                 	  <table id="example1" class="table table-bordered table-striped dataTable" role="grid" -->
					<!--                                        aria-describedby="example1_info"> -->
					<!--                                     <thead class="thead"> -->
					<!-- 						             <tr> -->
					<!-- 										    <th>ID</th> -->
					<!-- 										     <th>Reserva</th> -->
					<!-- 										 	<th>AÇÕES</th> -->
					<!-- 		                              </tr> -->
					<!--                                     </thead> -->
					<!--                                     <tbody> -->
					<!--                                    <tr th:each="c : ${reservas}"> -->
					<!-- 										    <td th:text="${c.id}">Alfreds Futterkiste</td> -->
					<!-- 										     <td th:text="${c.nome}">Alfreds Futterkiste</td> -->
					<!--                                         <td> -->
					<!--                                             <a href="#" class="btn btn-primary btn purple editView" title="Edit" ><i class="fa fa-edit"></i> Edit</a> -->
					<!--                                             <a href="#" class="btn btn-danger btn purple deleteView" title="Delete"><i class="fa fa-trash-o"></i> Delete</a> -->
					<!--                                         </td> -->
					<!--                                     </tr> -->
					<!--                                     </tbody> -->
					<!--                                 </table> -->



				</div>
				<!-- /.box -->
			</div>
		</div>
	</div>




	<th:block layout:fragment="script">
		<script>
		var password = document.getElementById("password")
		  , confirm_password = document.getElementById("confirm_password");

		function validatePassword(){
		  if(password.value != confirm_password.value) {
		    confirm_password.setCustomValidity("Senhas diferentes!");
		  } else {
		    confirm_password.setCustomValidity('');
		  }
		}

		password.onchange = validatePassword;
		confirm_password.onkeyup = validatePassword;

</script>

   <script>
    
  
   
    $(function () {

      $('#example1').DataTable({
        'paging'      : true,
        'lengthChange': false,
        'searching'   : true,
        'ordering'    : true,
        'info'        : true,
        'autoWidth'   : true
      })

      jQuery('#example1_wrapper input').addClass("form-control input-sm"); // modify table search input
    })


</script>

	</th:block>

</body>

</html>